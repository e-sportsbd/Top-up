<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TOPUPBD - Home</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
    body{
        margin:0;
        background:linear-gradient(145deg,#e8f0ff,#fff1f1,#ffe7db);
        font-family:'Poppins',sans-serif;
        min-height:100vh;
    }

    /* HEADER */
    .header{
        padding:12px 15px;
        display:flex;
        justify-content:space-between;
        align-items:center;
        color:white;
        background:rgba(30,144,255,0.85);
        backdrop-filter:blur(12px);
        box-shadow:0 4px 20px rgba(0,0,0,0.25);
        position:sticky;
        top:0;
        z-index:100;
    }

    .logo{
        display:flex;
        align-items:center;
        gap:8px;
        cursor:pointer;
        font-size:20px;
        font-weight:700;
    }

    .logo img{
        height:42px;
    }

    .wallet{
        background:white;
        color:#1e90ff;
        padding:6px 15px;
        border-radius:30px;
        font-weight:700;
        display:flex;
        align-items:center;
        gap:5px;
        cursor:pointer;
        display:none;
    }

    .profile img{
        width:45px;
        height:45px;
        border-radius:50%;
        object-fit:cover;
        cursor:pointer;
        border:2px solid white;
        display:none;
    }

    .login-btn{
        background:white;
        color:#1e90ff;
        padding:6px 20px;
        border-radius:30px;
        cursor:pointer;
        font-weight:700;
    }

    /* NOTICE */
    .notice{
        background:white;
        padding:14px;
        border-left:6px solid #1e90ff;
        margin:15px;
        border-radius:14px;
        font-weight:600;
    }

    /* BANNER */
    .banner img{
        width:92%;
        border-radius:20px;
        margin:18px auto;
        display:block;
        height:250px;
        width:100%;
    }

    h2{
        padding-left:15px;
        margin-top:25px;
        font-size:20px;
    }

    /* PRODUCTS */
    .products{
        display:grid;
        grid-template-columns:repeat(2,1fr);
        gap:18px;
        padding:15px;
    }

    .card{
        background:white;
        padding:12px;
        border-radius:18px;
        text-align:center;
        cursor:pointer;
        box-shadow:0 4px 12px rgba(0,0,0,0.1);
    }

    .card img{
        width:100%;
        border-radius:15px;
    }

    .card p{
        margin-top:10px;
        font-weight:700;
    }

    /* FOLLOW */
    .follow{
        background:white;
        padding:20px;
        border-radius:18px;
        margin:18px;
        margin-bottom:100px;
    }
    .call-btn{
    position:fixed;
    right:15px;
    bottom:110px;
    width:70px;
    height:70px;
    background:#ff4b4b;
    border-radius:50%;
    color:white;
    display:flex;
    align-items:center;
    justify-content:center;
    font-weight:700;
    font-size:16px;
    box-shadow:0 4px 15px rgba(0,0,0,0.25);
}

    .follow div{
        background:#f2f5ff;
        padding:14px;
        border-radius:12px;
        margin-top:12px;
        font-weight:600;
        cursor:pointer;
    }

    /* Bottom Menu */
    .bottom-menu{
        position:fixed;
        bottom:0;
        left:0;
        width:100%;
        background:white;
        display:flex;
        justify-content:space-around;
        padding:12px 0;
        box-shadow:0 -4px 18px rgba(0,0,0,0.2);
        z-index:200;
    }

    .bottom-menu div{
        text-align:center;
        font-size:12px;
        font-weight:700;
        cursor:pointer;
    }
</style>
</head>

<body>

<!-- HEADER -->
<div class="header">
    <div class="logo" onclick="openHome()">
        <img src="https://i.ibb.co.com/fGt7pS45/Picsart-25-09-30-23-06-37-837.webp">
        <span>TOPUP BD</span>
    </div>

    <div style="display:flex; align-items:center; gap:10px;">
        <div id="walletBox" class="wallet"><img src="wallet.png" width="20">‡ß≥ <span id="walletAmount">0</span></div>
        <div id="loginBtn" class="login-btn" onclick="openLogin()">Login</div>
        <div class="profile">
            <img id="profileImage" src="https://img.icons8.com/?size=100&id=O9K5DaypaVKw&format=png&color=000000" onclick="openProfile()">
        </div>
    </div>
</div>

<!-- NOTICE -->
<div class="notice" id="noticeText">Loading...</div>

<!-- BANNER -->
<div class="banner">
    <img id="bannerImage" src="default_banner.jpg" alt="Banner">
</div>

<h2>FREE FIRE</h2>

<!-- PRODUCT LIST -->
<div class="products">
    <div class="card" onclick="location.href='topup.html'">
        <img src="https://i.ibb.co.com/hJYFtSQq/1743654647.webp">
        <p>Free Fire Topup [BD]</p>
    </div>

    <div class="card" onclick="location.href='weekly.html'">
        <img src="https://i.ibb.co.com/v47pJ641/1727710497.webp">
        <p>Weekly / Monthly</p>
    </div>

    <div class="card" onclick="location.href='levelup.html'">
        <img src="https://i.ibb.co.com/hFbyBLcC/download-24.webp">
        <p>Level Up Pass</p>
    </div>

    <div class="card" onclick="location.href='evo.html'">
        <img src="https://i.ibb.co.com/p6MMTvyp/1727550206.webp">
        <p>Evo Access</p>
    </div>
    <div class="card" onclick="location.href='lite.html'">
        <img src="https://i.ibb.co.com/WNZ4vN29/download-23.webp">
        <p>Weekly Lite</p>
    </div>
    <div class="card" onclick="location.href='unipin.html'">
        <img src="https://i.ibb.co.com/FLPnFXtw/unipin-voucher-500x500.webp">
        <p>Unipin Voucher</p>
    </div>
</div>

<!-- FOLLOW -->
<div class="follow">
    <h2>Follow Us</h2>
    <div id="wpBtn">WhatsApp Helpline</div>
    <div id="tgBtn">Telegram Join</div>
    <div id="ytBtn">YouTube Channel</div>
</div>
<div class="call-btn" onclick=""openHelp()">Help</div>
<!-- BOTTOM MENU -->
<div class="bottom-menu">
    <div id="mHome" onclick="openHome()">üè† <br> Home</div>
    <div id="mAdd" onclick="openAddMoney()">‚ûï <br> Add Money</div>
    <div id="mOrder" onclick="openOrders()">üì¶ <br> My Orders</div>
    <div id="mCodes" onclick="openCodes()">üîë <br>Lottary</div>
    <div id="mAcc" onclick="openProfile()">üë§ <br> Account</div>
</div>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<script>
// Firebase Config
const firebaseConfig = {
  apiKey: "AIzaSyBl0PIm4lvZea96Bte3KaKQJvurGE1P8Es",
  authDomain: "post-c7e41.firebaseapp.com",
  databaseURL: "https://post-c7e41-default-rtdb.firebaseio.com/",
  projectId: "post-c7e41",
  messagingSenderId: "758133068153",
  appId: "1:758133068153:web:5513a1de83491c81776084"
};
firebase.initializeApp(firebaseConfig);

// NAVIGATION
function openHelp(){ location.href = "support.html"; }
function openHome(){ location.href = "index.html"; }
function openAddMoney(){ location.href = "add_money.html"; }
function openOrders(){ location.href = "orders.html"; }
function openCodes(){ location.href = "lottery.html"; }
function openProfile(){ location.href = "profile.html"; }
function openLogin(){ location.href = "login.html"; }

// LOAD HOME SETTINGS (Notice + Banner)
firebase.database().ref("home").on("value", snap => {

    const data = snap.val() || {};

    // Notice
    document.getElementById("noticeText").innerText =
        data.notice || "Welcome to TOPUP BD!";

    // Banner
    document.getElementById("bannerImage").src =
        data.banner || "default_banner.jpg";

    // FOLLOW LINKS
    if(data.follow){
        document.getElementById("wpBtn").onclick = () => {
            window.location.href = data.follow.whatsapp;
        };

        document.getElementById("tgBtn").onclick = () => {
            window.location.href = data.follow.telegram;
        };

        document.getElementById("ytBtn").onclick = () => {
            window.location.href = data.follow.youtube;
        };
    }
});

// AUTH CHECK
firebase.auth().onAuthStateChanged(function(user){

    const walletBox = document.getElementById("walletBox");
    const loginBtn = document.getElementById("loginBtn");
    const profileImage = document.getElementById("profileImage");

    const mHome = document.getElementById("mHome");
    const mAdd  = document.getElementById("mAdd");
    const mOrder = document.getElementById("mOrder");
    const mCodes = document.getElementById("mCodes");
    const mAcc   = document.getElementById("mAcc");

    if(user){

        walletBox.style.display = "flex";
        profileImage.style.display = "block";
        loginBtn.style.display = "none";

        mHome.style.display = "block";
        mAdd.style.display = "block";
        mOrder.style.display = "block";
        mCodes.style.display = "block";
        mAcc.style.display = "block";

        if(user.photoURL){
            profileImage.src = user.photoURL;
        }

        firebase.database().ref("wallet/" + user.uid).on("value", snap =>{
            walletAmount.innerText = (snap.val() || {}).dollar || 0;
        });

    } else {

        walletBox.style.display = "none";
        profileImage.style.display = "none";
        loginBtn.style.display = "inline-block";

        mHome.style.display = "none";
        mAdd.style.display = "none";
        mOrder.style.display = "none";
        mCodes.style.display = "none";
        mAcc.style.display = "none";
    }
});
</script>

</body>
</html>